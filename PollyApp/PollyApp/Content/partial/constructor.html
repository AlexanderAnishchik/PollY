<close-layer setting="settings" prop-name="showSettings" handler-name="showSettingsBlock"></close-layer>
<script type="text/ng-template" id="pollsavetype.tmpl.html">
    <md-dialog aria-label="Save poll" ng-cloak>
        <form>
            <md-toolbar>
                <div class="md-toolbar-tools">
                    <h2>Poll save</h2>
                    <span flex></span>
                </div>
            </md-toolbar>

            <md-dialog-content>
                <div class="md-dialog-content">
                    <div class="">
                        <div class="col-lg-12">
                            <h3>Our congratulations, Your poll has been created! It remains to set the type of control to the poll.</h3>
                        </div>

                        <div class="col-lg-6">
                            <md-card>
                                <img ng-src="Content/images/dashboardmini.png" class="md-card-image" alt="Washed Out">
                                <md-card-title>
                                    <md-card-title-text>
                                        <span class="md-headline">Save with account</span>
                                    </md-card-title-text>
                                </md-card-title>
                                <md-card-content>
                                    <p>
                                        This type of conservation survey will bring you created your account tsenter , and will allow for greater manipulation kolichesvtvo survey (Chart responses , data change, etc.)
                                    </p>
                                </md-card-content>
                                <md-card-actions layout="column" layout-align="start">
                                    <md-button ng-click="saveDataTo($event,true)">Save</md-button>
                                </md-card-actions>
                            </md-card>
                        </div>
                        <div class="col-lg-6">
                            <md-card>
                                <img ng-src="https://material.angularjs.org/latest/img/washedout.png" class="md-card-image" alt="Washed Out">
                                <md-card-title>
                                    <md-card-title-text>
                                        <span class="md-headline">Save with link</span>
                                    </md-card-title-text>
                                </md-card-title>
                                <md-card-content>
                                    <p>
                                        This type of preservation will allow you to only view the total number of responses for each question and see the schedule on the answers . But in your account tsenter poll will not be listed
                                    </p>
                                </md-card-content>
                                <md-card-actions layout="column" layout-align="start">
                                    <md-button ng-click="saveDataTo($event,false)">Save</md-button>
                                </md-card-actions>
                            </md-card>
                        </div>
                    </div>

                </div>
            </md-dialog-content>

        </form>
    </md-dialog>
</script>
<div class="add-poll-content">

    <div class="step-title">
        Time to create!
    </div>
    <div class="step-number">
        All empty answers or questions will be removed after save.
    </div>
    <div class="row constructor">
        <div class="sidebar-left col-lg-2">
            <div class="title">
                STEPS
            </div>
            <div class="content">
                <div class="steps" ng-click="setStep(settingsView.step1)">
                    <span class="badge"><img src="Content/images/layout-white.png" /></span> Choose template
                </div>
                <div class="steps" ng-click="setStep(settingsView.step2)">
                    <span class="badge"><img src="Content/images/access.png" /></span> Set access
                </div>
                <div class="steps" ng-click="setStep(settingsView.step3)">
                    <span class="badge"><img src="Content/images/privacy.png" /></span> Set privacy
                </div>
                <div class="steps" ng-click="setStep(settingsView.step4)">
                    <span class="badge"><img src="Content/images/builder.png" /></span> Maker
                </div>
            </div>
        </div>
        <div class="card col-lg-6 col-lg-offset-1">
            <div class="header-card">
                Builder
            </div>
            <div class="content-card">
                <div class="form-group" ng-class="{ 'has-error' : invalidPollData}">
                    <label for="titlePoll">Title</label>
                    <input type="text" class="form-control" id="titlePoll" ng-model="builderData.PollName" placeholder="Poll title">
                </div>
                <small ng-show="invalidPollData" class="text-danger">Title must be entered</small>
                <hr />
                <div class="row">
                    <div class="col-lg-12">
                        <label for="addNewQuestion">Question</label>
                        <div class="form-group">
                            <input type="text" class="form-control" id="addNewQuestion" ng-model="currentBlock.question.value" placeholder="New question">
                        </div>

                        <div class="form-inline">
                            <div ng-repeat="answ in currentBlock.answers track by $index" class="answer">
                                <div class="form-group ">
                                    <input type="text" class="form-control-static" id="" ng-model="answ.value" placeholder="Add answer">
                                </div>
                                <button type="button" ng-click="changeAnswerState(currentBlock,$index,$last)" ng-class="answersSetCssClass($last,$index)"></button>
                            </div>

                        </div>

                    </div>


                </div>

            </div>

            <div class="footer-card">
                <div class="row">
                    <div class="col-lg-10 col-md-10 col-xs-7 col-sm-7 poll-settings-block">
                        <md-button class="md-primary md-raised" ng-click="addBlock($event)" ng-show="builderData.PollType != 1" flex="100" flex-gt-md="auto">
                            ADD QUEISTION
                        </md-button>
                    </div>


                    <div class="col-lg-2 col-md-2 col-xs-5 col-sm-5 poll-settings-block">
                        <div class="img-settings">
                            <label for="settings"><small>Type question</small></label>
                            <img src="/Content/images/cogwheel.png" ng-click="showSettingsBlock()" id="settings" />

                            <div class="settings-card animated container-fluid" ng-show="settings.showSettings" ng-class="{ 'fadeInUp' : settings.showSettings, 'fadeOutDown' : !settings.showSettings} ">
                                <div class="col-lg-11 col-md-11 col-sm-11" style="display:inline-block;padding:0;">
                                    <p >
                                        <input type="radio" ng-value="1" ng-model="settings.notAppliedQuestionType" name="singormult" id="single" ng-checked="true" class="css-radio" /> <label for="single" class="css-labelr">Single choice</label>
                                        <input type="radio" ng-value="2" ng-model="settings.notAppliedQuestionType" name="singormult" id="multiple" class="css-radio" /> <label for="multiple" class="css-labelr">Multiple choice</label><br />
                                    </p>
                                </div>
                                
                                <div class="col-lg-1 col-md-1 col-sm-1" style="display:inline-block; padding:0;">
                                    <button class="btn btn-close" ng-click="showSettingsBlock()"></button>
                                </div>
                            </div>
                            
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <div class="sidebar-right col-lg-2 col-lg-offset-1" ng-show="builderData.PollType != 1">
            <div class="title">
                QUESTIONS
            </div>
            <div class="content">
                <div ng-click="changeBlock($index)" class="steps" ng-repeat="block in builderData.poll">

                    <span class="badge"><img src="Content/images/question.png" /></span>
                    {{block.question.value || "New Question"}}
                    <button type="button" ng-click="deleteBlock($index)" class="close"><span aria-hidden="true">&times;</span></button>

                </div>


            </div>

        </div>
    </div>


</div>
<div class="text-center footer-area">
    <button ng-click="savePoll($event)" class="btn btn-success">SAVE POLL</button>
</div>